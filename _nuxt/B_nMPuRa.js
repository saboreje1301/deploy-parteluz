import{_ as g}from"./CL5qHYOa.js";import{c as p,o as l,b as f,w as _,a as u,t as d,s as h,x,y as v,r as b,z as w,i as C,g as S,F as k,f as A,j as m,q as P,k as $}from"./DindsyT_.js";import{u as j}from"./CdJcDS-u.js";import{u as N}from"./C-4i4wX0.js";const q={class:"bg-white rounded-lg shadow-md p-4"},E=["src","alt"],G={class:"text-xl font-semibold mb-2"},z={class:"text-m text-gray-800 mb-4"},B={class:"text-gray-500 mb-4"},V={__name:"CardComponent",props:{id:[String,Number],title:String,image:String,alt:String,description:String,category:String,year:[String,Number]},setup(t){return(e,s)=>{const o=g;return l(),p("div",q,[f(o,{to:`/portafolio/${t.id}`},{default:_(()=>[u("img",{src:t.image,alt:t.alt,class:"rounded-lg mb-4 object-cover w-full h-48 hover:opacity-90 transition-opacity"},null,8,E),u("h3",G,d(t.title),1),u("p",z,d(t.category)+" - "+d(t.year),1),u("p",B,d(t.description),1)]),_:1},8,["to"])])}}},D="$s";function M(...t){const e=typeof t[t.length-1]=="string"?t.pop():void 0;typeof t[0]!="string"&&t.unshift(e);const[s,o]=t;if(!s||typeof s!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+s);if(o!==void 0&&typeof o!="function")throw new Error("[nuxt] [useState] init must be a function: "+o);const i=D+s,a=h(),n=x(a.payload.state,i);if(n.value===void 0&&o){const c=o();if(v(c))return a.payload.state[i]=c,c;n.value=c}return n}const F={id:"proyectos",class:"py-20 bg-gray-50"},K={class:"max-w-7xl mx-auto px-4"},L={class:"grid gap-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},R={key:0,class:"text-center p-8"},H={__name:"ProjectGridComponent",setup(t){const{data:e,pending:s,error:o}=j("projectsData",()=>$fetch("/data/projects.json")),i=M("projectsCache",()=>null),a=b([]);return w(()=>{e&&e.value?(i.value=Array.isArray(e.value)?e.value:[],a.value=i.value):i.value&&(a.value=i.value)}),C(()=>{e&&e.value===null&&a.value.length===0&&(async()=>{try{console.log("[debug] ProjectGridComponent fallback fetch /data/projects.json");const n=await $fetch("/data/projects.json"),c=Array.isArray(n)?n:[];i.value=c,a.value=c}catch(n){console.error("[debug] ProjectGridComponent fallback fetch failed",n)}})()}),(n,c)=>{const y=V;return l(),p("section",F,[u("div",K,[u("div",L,[(l(!0),p(k,null,A(a.value,r=>(l(),m(y,{key:r.id,id:r.id,title:r.title,image:r.image,alt:r.alt,description:r.description,images:r.images,category:r.category,year:r.year},null,8,["id","title","image","alt","description","images","category","year"]))),128))]),P(s)&&a.value.length===0?(l(),p("div",R,"Cargando proyectos...")):S("",!0)])])}}},Q=$({__name:"index",setup(t){return N({title:"Portafolio: Proyectos de Arquitectura y Construcción en San Miguel de Allende",meta:[{name:"description",content:"Explora nuestro portafolio de proyectos de arquitectura en San Miguel de Allende: casas de alta calidad, restauración colonial y remodelaciones exitosas."},{name:"robots",content:"index, follow"},{property:"og:title",content:"Proyectos | Parteluz Arquitectura"},{property:"og:description",content:"Galería de proyectos de arquitectura y construcción realizados por Parteluz."},{property:"og:image",content:"/img/200414.webp"},{property:"og:type",content:"website"}]}),(e,s)=>{const o=H;return l(),m(o)}}});export{Q as default};
