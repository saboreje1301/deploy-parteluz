import{u as m,_ as f}from"./DZXuCwRR.js";import{u as g,J as _,K as v,r as h,L as x,q as C,c as u,o as l,a as d,C as A,F as P,A as b,G as p,x as k,m as w}from"./XgZ0HJT6.js";import{u as j}from"./D1Jwkbhp.js";import"./Emdblzki.js";const G="$s";function S(...n){const e=typeof n[n.length-1]=="string"?n.pop():void 0;typeof n[0]!="string"&&n.unshift(e);const[i,r]=n;if(!i||typeof i!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+i);if(r!==void 0&&typeof r!="function")throw new Error("[nuxt] [useState] init must be a function: "+r);const s=G+i,t=g(),o=_(t.payload.state,s);if(o.value===void 0&&r){const c=r();if(v(c))return t.payload.state[s]=c,c;o.value=c}return o}const q={id:"proyectos",class:"py-20 bg-gray-50"},E={class:"max-w-7xl mx-auto px-4"},$={class:"grid gap-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},B={key:0,class:"text-center p-8"},z={__name:"ProjectGridComponent",setup(n){const{data:e,pending:i,error:r}=m("projectsData",()=>$fetch("/data/projects.json")),s=S("projectsCache",()=>null),t=h([]);return x(()=>{e&&e.value?(s.value=Array.isArray(e.value)?e.value:[],t.value=s.value):s.value&&(t.value=s.value)}),C(()=>{e&&e.value===null&&t.value.length===0&&(async()=>{try{console.log("[debug] ProjectGridComponent fallback fetch /data/projects.json");const o=await $fetch("/data/projects.json"),c=Array.isArray(o)?o:[];s.value=c,t.value=c}catch(o){console.error("[debug] ProjectGridComponent fallback fetch failed",o)}})()}),(o,c)=>{const y=f;return l(),u("section",q,[d("div",E,[d("div",$,[(l(!0),u(P,null,b(t.value,a=>(l(),p(y,{key:a.id,id:a.id,title:a.title,image:a.image,alt:a.alt,description:a.description,images:a.images,category:a.category,year:a.year},null,8,["id","title","image","alt","description","images","category","year"]))),128))]),k(i)&&t.value.length===0?(l(),u("div",B,"Cargando proyectos...")):A("",!0)])])}}},D=w({__name:"index",setup(n){return j({title:"Portafolio: Proyectos de Arquitectura y Construcción en San Miguel de Allende",meta:[{name:"description",content:"Explora nuestro portafolio de proyectos de arquitectura en San Miguel de Allende: casas de alta calidad, restauración colonial y remodelaciones exitosas."},{name:"robots",content:"index, follow"},{property:"og:title",content:"Proyectos | Parteluz Arquitectura"},{property:"og:description",content:"Galería de proyectos de arquitectura y construcción realizados por Parteluz."},{property:"og:image",content:"/img/200414.webp"},{property:"og:type",content:"website"}]}),(e,i)=>{const r=z;return l(),p(r)}}});export{D as default};
