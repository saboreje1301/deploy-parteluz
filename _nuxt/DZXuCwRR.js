import{_ as H}from"./Emdblzki.js";import{M as U,c as L,o as p,b as z,w as W,a as P,t as w,N as $,l as j,u as I,O as D,P as J,Q,R as X,S as Y,U as V,V as R,r as Z,W as S,J as q,X as G,x as K,Y as k,Z as A}from"./XgZ0HJT6.js";const ee={class:"bg-white rounded-lg shadow-md p-4"},ae=["src","alt"],te={class:"text-xl font-semibold mb-2"},se={class:"text-m text-gray-800 mb-4"},re={class:"text-gray-500 mb-4"},_e={__name:"CardComponent",props:{id:String,title:String,image:String,alt:String,description:String,category:String,year:Number},setup(e){const t=e,u=U();function n(a){u.push(`/portafolio/${t.id}`).catch(r=>{try{alert("Error al navegar: "+(r&&r.message?r.message:String(r)))}catch{}})}return(a,r)=>{const s=H;return p(),L("div",ee,[z(s,{to:`/portafolio/${e.id}`,onClick:$(n,["prevent"])},{default:W(()=>[P("img",{src:e.image,alt:e.alt,class:"rounded-lg mb-4 object-cover w-full h-48 hover:opacity-90 transition-opacity"},null,8,ae),P("h3",te,w(e.title),1),P("p",se,w(e.category)+" - "+w(e.year),1),P("p",re,w(e.description),1)]),_:1},8,["to"])])}}},ne={trailing:!0};function ce(e,t=25,u={}){if(u={...ne,...u},!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let n,a,r=[],s,v;const c=(m,i)=>(s=ie(e,m,i),s.finally(()=>{if(s=null,u.trailing&&v&&!a){const h=c(m,v);return v=null,h}}),s);return function(...m){return s?(u.trailing&&(v=m),s):new Promise(i=>{const h=!a&&u.leading;clearTimeout(a),a=setTimeout(()=>{a=null;const f=u.leading?n:c(this,m);for(const y of r)y(f);r=[]},t),h?(n=c(this,m),i(n)):r.push(i)})}}async function ie(e,t,u){return await e.apply(t,u)}const le=Symbol.for("nuxt:client-only"),ue=e=>e==="defer"||e===!1;function me(...e){var E;const t=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&typeof e[0]!="object"&&!(typeof e[0]=="function"&&typeof e[1]=="function")&&e.unshift(t);let[u,n,a={}]=e;const r=j(()=>A(u));if(typeof r.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof n!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const s=I(),v=()=>D.value,c=(l,_,b)=>{if(_.isHydrating)return _.payload.data[l];if(b.cause!=="refresh:manual"&&b.cause!=="refresh:hook")return _.static.data[l]};a.server??(a.server=!0),a.default??(a.default=v),a.getCachedData??(a.getCachedData=c),a.lazy??(a.lazy=!1),a.immediate??(a.immediate=!0),a.deep??(a.deep=D.deep),a.dedupe??(a.dedupe="cancel"),a._functionName,s._asyncData[r.value];const m=a.getCachedData(r.value,s,{cause:"initial"});(E=s._asyncData[r.value])!=null&&E._init||(s._asyncData[r.value]=T(s,r.value,n,a,m));const i=s._asyncData[r.value];i._deps++;const h=()=>s._asyncData[r.value].execute({cause:"initial",dedupe:a.dedupe}),f=a.server!==!1&&s.payload.serverRendered;{let l=function(o){const d=s._asyncData[o];d!=null&&d._deps&&(d._deps--,d._deps===0&&(d==null||d._off(),d._init=!1,M(s,o),d.execute=()=>Promise.resolve(),s._asyncData[o].data.value=D.value))};const _=J();if(_&&f&&a.immediate&&!_.sp&&(_.sp=[]),_&&!_._nuxtOnBeforeMountCbs){_._nuxtOnBeforeMountCbs=[];const o=_._nuxtOnBeforeMountCbs;Q(()=>{o.forEach(d=>{d()}),o.splice(0,o.length)}),X(()=>o.splice(0,o.length))}const b=_&&(_._nuxtClientOnly||Y(le,!1));f&&s.isHydrating&&(i.error.value||m!=null)?(i.pending.value=!1,i.status.value=i.error.value?"error":"success"):_&&!b&&(s.payload.serverRendered&&s.isHydrating||a.lazy)&&a.immediate?_._nuxtOnBeforeMountCbs.push(h):a.immediate&&h();const O=k();if(a.watch){const o=V(a.watch,()=>{i._execute({cause:"watch",dedupe:a.dedupe})},{flush:"post"});O&&R(()=>o())}const x=V(r,(o,d)=>{var N,B;const F=((N=s._asyncData[d])==null?void 0:N.data.value)!==D.value;d&&l(d),(B=s._asyncData[o])!=null&&B._init||(s._asyncData[o]=T(s,o,n,a,a.getCachedData(o,s,{cause:"initial"}))),s._asyncData[o]._deps++,(a.immediate||F)&&s._asyncData[o].execute({cause:"initial",dedupe:a.dedupe})},{flush:"sync"});O&&R(()=>{x(),l(r.value)})}const y={data:C(()=>{var l;return(l=s._asyncData[r.value])==null?void 0:l.data}),pending:C(()=>{var l;return(l=s._asyncData[r.value])==null?void 0:l.pending}),status:C(()=>{var l;return(l=s._asyncData[r.value])==null?void 0:l.status}),error:C(()=>{var l;return(l=s._asyncData[r.value])==null?void 0:l.error}),refresh:(...l)=>s._asyncData[r.value].execute(...l),execute:(...l)=>s._asyncData[r.value].execute(...l),clear:()=>M(s,r.value)},g=Promise.resolve(s._asyncDataPromises[r.value]).then(()=>y);return Object.assign(g,y),g}function C(e){return j({get(){var t;return(t=e())==null?void 0:t.value},set(t){const u=e();u&&(u.value=t)}})}function M(e,t){t in e.payload.data&&(e.payload.data[t]=void 0),t in e.payload._errors&&(e.payload._errors[t]=D.errorValue),e._asyncData[t]&&(e._asyncData[t].data.value=void 0,e._asyncData[t].error.value=D.errorValue,e._asyncData[t].pending.value=!1,e._asyncData[t].status.value="idle"),t in e._asyncDataPromises&&(e._asyncDataPromises[t]&&(e._asyncDataPromises[t].cancelled=!0),e._asyncDataPromises[t]=void 0)}function oe(e,t){const u={};for(const n of t)u[n]=e[n];return u}function T(e,t,u,n,a){var m;(m=e.payload._errors)[t]??(m[t]=D.errorValue);const r=u,s=n.deep?Z:S,v=a!=null,c={data:s(v?a:n.default()),pending:S(!v),error:q(e.payload._errors,t),status:S("idle"),execute:(i={})=>{if(e._asyncDataPromises[t]){if(ue(i.dedupe??n.dedupe))return e._asyncDataPromises[t];e._asyncDataPromises[t].cancelled=!0}if(i.cause==="initial"||e.isHydrating){const f=i.cause==="initial"?a:n.getCachedData(t,e,{cause:i.cause??"refresh:manual"});if(f!=null)return e.payload.data[t]=c.data.value=f,c.error.value=D.errorValue,c.status.value="success",Promise.resolve(f)}c.pending.value=!0,c.status.value="pending";const h=new Promise((f,y)=>{try{f(r(e))}catch(g){y(g)}}).then(async f=>{if(h.cancelled)return e._asyncDataPromises[t];let y=f;n.transform&&(y=await n.transform(f)),n.pick&&(y=oe(y,n.pick)),e.payload.data[t]=y,c.data.value=y,c.error.value=D.errorValue,c.status.value="success"}).catch(f=>{if(h.cancelled)return e._asyncDataPromises[t];c.error.value=G(f),c.data.value=K(n.default()),c.status.value="error"}).finally(()=>{h.cancelled||(c.pending.value=!1,delete e._asyncDataPromises[t])});return e._asyncDataPromises[t]=h,e._asyncDataPromises[t]},_execute:ce((...i)=>c.execute(...i),0,{leading:!0}),_default:n.default,_deps:0,_init:!0,_hash:void 0,_off:e.hook("app:data:refresh",async i=>{(!i||i.includes(t))&&await c.execute({cause:"refresh:hook"})})};return c}export{_e as _,me as u};
